<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>US National Parks</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/timeline.css">
    <link rel="stylesheet" href="css/filters.css">
    <link rel="stylesheet" href="css/jquery.multiselect.css">
    <link rel="stylesheet" href="css/q1.css">
    <link rel="stylesheet" href="css/hex.css">
    <link rel="stylesheet" href="css/q5.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/results.css">
    <link rel="stylesheet" href="css/barchart.css">
    <link rel="stylesheet" href="css/radar.css">
</head>
<body>

<header class="intro">
    <div class="intro__content">
        <h1>United States National Parks</h1>

        <p>
            The United States is home to some of the most unique and stunning natural geographical features in the world. Over the course of nearly 200 years, 62 of these sites have been designated as National Parks. Every year, these parks support as many as 90 million visitors.
        </p>
    </div>
</header>

<div class="container">
    <div class="vis" id="q5">
        <h3 class="vis__title">How has COVID-19 affected park utilization in 2020?</h3>
        <p class="vis__description">Although outdoor activities are recommended as some of the safest recreational options, there has been a marked decline in visitors during 2020. This decline is most visible during March 2020, when many states first enacted precautionary legislation.</p>
        <div class="row">
            <div class="col-sm-3">
                <div class="row" style="justify-content: center">
                    <select id="group-by" class="form-control" onchange="_groupBy()">
                        <option value="months" selected>By month</option>
                        <option value="ytd">Year to date</option>
                        <option value="seasons">By season</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="vis__legend">
                    <div id="legend">
                        <svg>
                            <circle id="y2019"></circle>
                            <text x="20" y="15">2019</text>
                        </svg>
                        <svg>
                            <circle id="y2020"></circle>
                            <text x="20" y="15">2020</text>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="vis__wrapper" style="height: 40vh">
            <div class="align-self-center" id="line-graph" style="width: 90%; height: 100%"></div>
        </div>
    </div>
</div>

<div class="instruction">
    <h4>1. Learn about the history of National Parks.</h4>
</div>

<div class="container-fluid">
    <div class="vis">
        <h3 class="vis__title">How did National Parks come to be?</h3>
        <p class="vis__description">Yellowstone was officially established as the first National Park in 1872. 34 years later, Theodore Roosevelt passed the Antiquities Act of 1906, creating presidential authority to designate national monuments from federal lands to protect significant natural, cultural, or scientific features. The national monument designation has served as a precursor to the National Park designation for many parks.</p>

        <p>Historical events can be classified into two broad categories--<i>Park Related Law passed</i>
            and <i>Park Founded</i>. They are shown in different colors in the timeline below.</i>
        </p>

        <div class="vis__wrapper vis__wrapper--carousel">
            <div id="carousel" class="carousel slide">
                <div class="carousel-inner"></div>
                <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true">&larr;</span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true">&rarr;</span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <div id="timeline"></div>
            <dl class="timeline-key">
                <dt class="current"></dt>
                <dd>Event on Display</dd>

                <dt class="law"></dt>
                <dd>Park Related Law Passed</dd>

                <dt class="park"></dt>
                <dd>Park Founded</dd>
            </dl>
        </div>
    </div>

    <div class="vis">
        <h3 class="vis__title">Not all regions are created equal. Which areas have the most access to National Parks, and how can this help guide your plans?</h3>
        <p class="vis__description">This representation of the United States shows how each region is represented by using one hexagon for each National Park in that region. Depending on you location, this may be able to help inform your plans.</p>
        <div class="vis__wrapper">
            <div class="hex-map" id="hex-map" style="height: 100%; width:100%;"></div>
        </div>
    </div>
</div>

<section class="container-fluid section webpage-instructions">
    <main class="section__visualizations">
        <h2 style="margin-top: 200px;">What to expect</h2>

        <p>As you progress through the rest of this webpage, you will be presented with filters on the right pane.</p>
        <p>Each section is intended to help you pick your preferences of region, activities, and season.</p>
        <p>
            At the end of the experience, your top 5 parks will be calculated based on your input.
            <strong>For the best experience, please select at least one value for each prompt.</strong>
        </p>

        <button id="read-instructions" class="btn btn-primary btn-lg btn-block" style="display: none;">I understand.</button>
    </main>

    <aside class="section__filter region-filter">
        <div class="filter">
            <h5>Example Filter</h5>
            <select class="form-control">
                <option value="">--</option>
            </select>
        </div>
    </aside>
</section>

<div class="all-content">

<div class="instruction">
    <h4>2. Explore the various regions.</h4>
    <p>Please select one to help guide your decision</p>
</div>

<section class="container-fluid section">
    <main class="section__visualizations">
        <div class="vis" id="q1">
            <h3 class="vis__title">Where are the National Parks located?</h3>
            <p class="vis__description">
                <b>Hover</b> over the circles in the map to learn more about each park.
                <b>Zoom</b> in and out the map as you like.
                <b>Pan</b> different regions.
                <b>Select</b> a park to see details.
                <b>Filter</b> the parks by regions.
            </p>

            <div class="vis__wrapper">
                <button id="zoom_reset">Reset Zoom</button>&nbsp;
                <button id="zoom_in"><b>+</b></button>&nbsp;
                <button id="zoom_out"><b>&#8212;</b></button>
                <div class="row map-row">

                    <!-- Left column for map -->
                    <div class="col-lg-8">
                        <div id="map" style="height: 100%; width:100%;"></div>
                    </div>

                    <!-- Right column for summary -->
                    <div class="col-lg-3">
                        <div class="row justify-content-center">
                            <h6>Select a park</h6>
                        </div>
                        <div class="row justify-content-center">
                            <select id="parkSelect" onchange="displayDetails()" class="form-control"></select>
                        </div>
                        <div class="row justify-content-center">
                            <img id="picture" />
                        </div>
                        <div class="row justify-content-center">
                            <div id="caption"></div>
                            <table class="table table-striped" id="description">
                                <tbody>
                                <tr>
                                    <th scope="row">Location</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Established</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Area</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Visitors (2019)</th>
                                    <td></td>
                                </tr>
                                </tbody>
                            </table>
                            <a id="wiki" target="_blank"><b>>> Read more on Wikipedia</b></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <aside class="section__filter region-filter">
        <div class="filter">
            <h5>Select a region</h5>
            <select name="region-select" id="region-select" class="form-control region-filter__select" onchange="$(eventEmitter).trigger('regionChanged')">
                <option value="">All</option>
                <option value="West">West</option>
                <option value="Northeast">Northeast</option>
                <option value="South">South</option>
                <option value="Midwest">Midwest</option>
            </select>
        </div>
    </aside>
</section>

<div class="instruction">
    <h4>3. Find the parks that will best support you in pursuing your favorite activities</h4>
    <p>Let us know what types of activities you are most interested in. This information is used to find great parks for you to explore.</p>
</div>

<section class="container-fluid section">
    <main class="section__visualizations">
        <div class="vis">
            <h3 class="vis__title">Different parks excel in different areas. Which parks are the best match for your interests?</h3>
            <p class="vis__description">The National Parks offer over 100 different activities. Here, we can see the
                result of categorizing each activity and summarizing each park’s unique offerings by rating it on the
                number of activities available in each category. The specific parks displayed are determined by your
                selected preferences regarding activity and region. </p>
            <p class="vis__description">The large visualization contains an overlaid plot of the top three parks
            matching your preferences. The smaller plots below this contain the individual data for each of these parks.</p>
            <p class="vis__description"><strong>Metric: </strong> The metric displayed corresponds to the percentage of possible activities
                offered by each park in each category. For example, if 10 total activities are offered in the "Snow"
                category and a park offers 6 of these, the park will receive a score of 60% on this axis.
            </p>
            <div class="vis__wrapper">
                <div id="radarDiv">
                    <div class="row justify-content-center">
                        <div class="radarChart" style="height: 100%; width:100%;"></div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-4 radarChart1" style="height: 100%; width:100%;"></div>
                    <div class="col-4 radarChart2" style="height: 100%; width:100%;"></div>
                    <div class="col-4 radarChart3" style="height: 100%; width:100%;"></div>
                </div>
            </div>
        </div>
    </main>

    <aside class="section__filter activity-filter">
        <div class="filter">
        <div id="activity-select">
            <h5>Select Activities</h5>

            <input type="search" v-model="filter" class="form-control" placeholder="Filter activities...">

            <transition-group class="activity-select__checkboxes"
                    name="slide-top-list"
                    tag="div"
            >
                <div class="check-row" v-for="a in visibleActivities" :key="a.id">
                    <input type="checkbox" :name="a.id" :id="a.id" :value="a.id" v-model="selectedActivityIds">
                    <label :for="a.id">{{ a.name }} ({{ a.count }})</label>
                </div>
            </transition-group>
            </div>
        </div>
    </aside>
</section>

    <div class="instruction">
        <h4>4. Make a decision based on the popularity of each park and your comfort level with crowds</h4>
        <p>Which season will work best for your trip?</p>
    </div>

<section class="container-fluid section">
    <main class="section__visualizations">
        <div class="vis">
            <h3 class="vis__title">Which of your matching parks are the most popular?</h3>
            <p class="vis__description">Based on your tolerance for crowd size, it may be helpful to take park popularity into account when planning your trip. Visitation varies drastically between parks, and even between seasons within the same park. Some of the most beautiful and secluded experiences may be found during the “off-season”.</p>

            <div class="vis__wrapper">
                <div id="bar"></div>
            </div>
        </div>
    </main>

    <aside class="section__filter season-filter">
        <div class="filter">
            <h5>Season Preference</h5>
            <select name="season-select" id="season-select" class="form-control" onchange="$(eventEmitter).trigger('seasonChanged')">
                <option value="Spring">Spring</option>
                <option value="Summer" selected>Summer</option>
                <option value="Fall">Fall</option>
                <option value="Winter">Winter</option>
            </select>

            <h5 style="margin-top: 50px;">Park Density Preference</h5>
            <select name="season-sort" id="season-sort" class="form-control" onchange="$(eventEmitter).trigger('seasonSortChanged')">
                <option value="1" selected>Most popular</option>
                <option value="-1">Least crowded</option>
            </select>
        </div>
    </aside>
</section>

<div class="instruction">
    <h4>5. Evaluate results</h4>
    <p>See the best parks, calculated just for you.</p>
</div>

<footer class="container-fluid" id="results">
    <h3>Top Parks</h3>

    <p>Based on your preferences, here are the top parks we recommend</p>
    <p><b>Click on a park from the left to know more</b></p>

    <div class="results">
        <div class="row">
            <div class="col-lg-3">
                <ol class="results__list">
                    <li v-for="row in rows" v-bind:class="{ selected: selectedId === row.parkCode }">
                        <button @click="setSelected(row)" class="btn btn-primary">{{ row.fullName }} ({{ row.location }})</button>
                    </li>
                </ol>
            </div>

            <div v-if="selectedId" class="col-lg-9">
                <div class="results__tabs">
                    <button type="button" class="btn btn-secondary"
                            v-for="opt in dataTypes"
                            @click="dataType = opt.value"
                            v-bind:class="{ selected: dataType === opt.value }">{{ opt.name }}</button>
                    </button>
                </div>

                <div class="results__response">
                    <div class="results__images" v-if="!dataType && displayedData">
                        <img :src="img.url" alt="" v-for="img in displayedData.images.slice(0, 4)" style="width: 100%">
                    </div>

                    <template v-else-if="dataType === 'alerts' && displayedData">
                        <ul>
                            <li v-for="alert in displayedData.data">
                                <h5>{{ alert.title }}</h5>
                                <p v-text="alert.description"></p>
                            </li>
                        </ul>
                    </template>

                    <template v-else-if="dataType === 'campgrounds' && displayedData">
                        <ul v-if="displayedData.data.length">
                            <li v-for="campground in displayedData.data">
                                <h5><component :is="campground.directionsUrl ? 'a' : 'span'" :href="campground.directionsUrl" target="_blank">{{ campground.name }}</component></h5>
                                <p v-text="campground.description"></p>
                            </li>
                        </ul>

                        <p v-else>No campgrounds available.</p>
                    </template>

                    <template v-else-if="dataType === 'places' && displayedData">
                        <ul v-if="displayedData.data.length">
                            <li v-for="place in displayedData.data" style="margin-top: 100px;">
                                <h5><a :href="place.url" target="_blank">{{ place.title }}</a></h5>
                                <div v-html="place.bodyText"></div>
                            </li>
                        </ul>

                        <p v-else>No places available.</p>
                    </template>
                </div>
            </div>
        </div>
    </div>
</footer>


    <hr>
    <!-- Identity section -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <div class="containervertical">
        <h3 class="text-center">About Us</h3>
        <br>
        <!-- Team pictures -->
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-md-4 text-center">
                    <div class="circular">
                        <img src="images/gw.jpg" />
                    </div><br>
                    <p><strong>Gordon Wade</strong></p><p>
                    <p>Software Engineer<br>
                    Broad Institute of MIT and Harvard<br>
                    Cambridge, Massachusetts</p>
                </p><p>
                    <a href="mailto:gordonvwade@gmail.com" class="emails"><i class="fa fa-envelope fa-2x" aria-hidden="true"></i></a>   
                    <a href="http://github.com/gordonwade" target="_blank" class="emails"> <i class="fa fa-github fa-2x" aria-hidden="true"></i></a>   
                    <a href="http://www.linkedin.com/in/gordonwade/" target="_blank" class="emails"> <i class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
                </p>
                </div>
                <div class="col-xs-12 col-md-4 text-center">
                    <div class="circular">
                        <img src="images/nm.jpg" />
                    </div><br>
                    <p><strong>Nate Mortensen</strong></p><p>
                    <p>Senior Software Engineer<br>
                    ClearVoice<br>
                    Phoenix, Arizona</p>
                </p><p>
                    <a href="mailto:nmortensen2@gmail.com" class="emails"><i class="fa fa-envelope fa-2x" aria-hidden="true"></i></a>   
                    <a href="http://github.com/natemortensen" target="_blank" class="emails"> <i class="fa fa-github fa-2x" aria-hidden="true"></i></a>   
                    <a href="https://www.linkedin.com/in/natemortensen/" target="_blank" class="emails"> <i class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
                </p>
                </div>
                <div class="col-xs-12 col-md-4 text-center">
                    <div class="circular">
                        <img src="images/tb.jpg" />
                    </div><br>
                    <p><strong>Tashrif Billah</strong></p><p>
                    <p>Research Engineer<br>
                    Brigham and Women's Hospital<br>
                    Boston, Massachusetts</p>
                    <p><p>
                </p><p>
                    <a href="mailto:tashrif.billah@columbia.edu" class="emails"><i class="fa fa-envelope fa-2x" aria-hidden="true"></i></a>   
                    <a href="http://github.com/tashrifbillah" target="_blank" class="emails"> <i class="fa fa-github fa-2x" aria-hidden="true"></i></a>   
                    <a href="http://www.linkedin.com/in/tashrif-billah/" target="_blank" class="emails"> <i class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
                </p>
                    <p></p>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js" integrity="sha512-90vH1Z83AJY9DmlWa8WkjkV79yfS2n2Oxhsi2dZbIv0nC4E6m5AbH8Nh156kkM7JePmqD6tcZsfad1ueoaovww==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <script src="https://unpkg.com/geo-albers-usa-territories@0.1.0/dist/geo-albers-usa-territories.js"></script>
    <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script src="js/activitySelect.js"></script>
    <script src="js/eventHandler.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/barChart.js"></script>
    <script src="js/main.js"></script>
    <script src="js/radarChartClass.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/jquery.multiselect.js"></script>
    <script src="js/q1Vis.js"></script>
    <script src="js/q1.js"></script>
    <script src="js/d3-tip.js"></script>
    <script src="js/hexMap.js"></script>
    <script src="js/q5Vis.js"></script>
    <script src="js/results.js"></script>
</body>
</html>

