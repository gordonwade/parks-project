<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>US National Parks</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/timeline.css">
    <link rel="stylesheet" href="css/filters.css">
    <link rel="stylesheet" href="css/jquery.multiselect.css">
    <link rel="stylesheet" href="css/q1.css">
    <link rel="stylesheet" href="css/hex.css">
    <link rel="stylesheet" href="css/q5.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/results.css">
    <link rel="stylesheet" href="css/barchart.css">
</head>
<body>

<header class="container intro">
    <h1>United States National Parks</h1>

    <p>
        Every year around 5 million people visit 62 National Parks all over the country.
        Most of the parks are in the west coast of the country, mainly concentrated in Colorado, Utah,
        Arizona, California, and Alaska.
    </p>
</header>

<div class="instruction">
    <h4>1. Get familiar with the history of national parks.</h4>
    <p>Some other text</p>
</div>

<div class="container-fluid">
    <div id="carousel" class="carousel slide">
        <div class="carousel-inner"></div>
        <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <dl class="timeline-key">
        <dt class="current"></dt>
        <dd>Current</dd>

        <dt class="law"></dt>
        <dd>Law Passed</dd>

        <dt class="park"></dt>
        <dd>Park Founded</dd>
    </dl>

    <div id="timeline"></div>
</div>

<div class="instruction">
    <h4>2. Explore the various regions.</h4>
    <p>Please select one to help guide your decision</p>
</div>

<section class="container-fluid section">
    <main class="section__visualizations">
        <div class="vis" id="q1">
            <h3 class="vis__title">Map</h3>
            <p class="vis__description">Filter the parks by activities available (top left),
                hover over the map to learn more about each park, and search the details of a park by
                typing in the name (right).</p>

            <div class="vis__wrapper">
                <div class="row map-row">

                    <!-- Left column for map -->
                    <div class="col-md-8">
                        <div id="map" style="height: 100%; width:100%;"></div>
                    </div>

                    <!-- Right column for summary -->
                    <div class="col-md-3">
                        <div class="row justify-content-center">
                            <select id="parkSelect" onchange="displayDetails()" class="form-control">
                                <option value="" selected>Select a park to see details ...</option>
                            </select>
                            <img id="picture" />
                            <div id="caption"></div>
                            <table class="table table-striped" id="description">
                                <tbody>
                                <tr>
                                    <th scope="row">Location</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Established</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Area</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">Visitors (2019)</th>
                                    <td></td>
                                </tr>
                                </tbody>
                            </table>

                            <!-- bonus task -->
                            <a id="wiki" target="_blank"><b>>> Read more on Wikipedia</b></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="vis">
            <h3 class="vis__title">Hex Map</h3>
            <p class="vis__description">This is a hex map.</p>
            <div class="vis__wrapper" style="height: 85vh;">
                <div class="hex-map" id="hex-map" style="height: 100%; width:100%;"></div>
            </div>
        </div>
    </main>

    <aside class="section__filter region-filter">
        <div class="filter">
            <h5>Select a region</h5>
            <select name="region-select" id="region-select" class="form-control region-filter__select" onchange="$(eventEmitter).trigger('regionChanged')">
                <option value="All">All</option>
                <option value="Spring">Spring</option>
                <option value="Summer">Summer</option>
                <option value="Fall">Fall</option>
                <option value="Winter">Winter</option>
            </select>
        </div>
    </aside>

    <div class="instruction">
        <h4>3. Explore park activities.</h4>
        <p>We'll identify the top 3 parks matching your preferences</p>
    </div>

    <main class="section__visualizations">
        <div class="vis">
            <h3 class="vis__title">Activities</h3>
            <p class="vis__description">This is a descripion.</p>
            <div class="vis__wrapper">
                <div id="radarDiv">
                    <div class="row justify-content-center">
                        <div class="radarChart"></div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-4 radarChart1"></div>
                    <div class="col-4 radarChart2"></div>
                    <div class="col-4 radarChart3"></div>
                </div>
            </div>
        </div>
    </main>

    <aside class="section__filter activity-filter">
        <div class="filter">
            <div id="activity-select">
                <h5>Select Activities</h5>

                <input type="search" v-model="filter" class="form-control" placeholder="Filter activities...">

                <div class="activity-select__checkboxes">
                    <div class="check-row" v-for="a in visibleActivities" :key="a.id">
                        <input type="checkbox" :name="a.id" :id="a.id" :value="a.id" v-model="selectedActivityIds">
                        <label :for="a.id">{{ a.name }} ({{ a.count }})</label>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <div class="instruction">
        <h4>4. Track visits over year</h4>
        <p>Pick the ideal season for you to visit.</p>
    </div>

    <main class="section__visualizations">
        <div class="vis" id="q5">
            <select id="group-by" class="form-control vis__filter" onchange="_groupBy()">
                <option value="months">By month</option>
                <option value="ytd" selected>Year to date</option>
                <option value="seasons">By season</option>
            </select>
            <h3 class="vis__title">Line Graph</h3>
            <p class="vis__description">Charting population over 2019-2020.</p>
            <div class="vis__legend">
                <div id="legend">
                    <svg>
                        <circle fill="lightskyblue"></circle>
                        <text x="20" y="15">2019</text>
                    </svg>
                    <svg>
                        <circle fill="magenta"></circle>
                        <text x="20" y="15">2020</text>
                    </svg>
                </div>
            </div>
            <div class="vis__wrapper" style="height: 40vh">
                <div class="align-self-center" id="line-graph" style="width: 70%; height: 100%"></div>
            </div>
        </div>

        <div class="vis">
            <h3 class="vis__title">Top parks by visits</h3>
            <p class="vis__description">Showing average visits by season</p>

            <div class="vis__wrapper">
                <div id="bar"></div>
            </div>
        </div>
    </main>

    <aside class="section__filter season-filter">
        <h5>Preferred Season</h5>

        <select name="season-select" id="season-select" class="form-control" onchange="$(eventEmitter).trigger('seasonChanged')">
            <option value="All">All</option>
            <option value="Spring">Spring</option>
            <option value="Summer">Summer</option>
            <option value="Fall">Fall</option>
            <option value="Winter">Winter</option>
        </select>
    </aside>
</section>

<div class="instruction">
    <h4>6. Evaluate results</h4>
    <p>See the best parks, calculated just for you.</p>
</div>

<footer class="container" id="results">
    <h3>Top Parks</h3>

    <p>Based on your preferences, here are the top parks we recommend</p>

    <div class="results">
        <div class="results__list">
            <ol>
                <li v-for="row in rows" v-bind:class="{ selected: selectedId === row.parkCode }">
                    <a @click="setSelected(row)">{{ row.fullName }}</a>
                </li>
            </ol>
        </div>

        <div class="results__code" v-if="selectedId">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary"
                        v-for="opt in dataTypes"
                        @click="dataType = opt.value"
                        v-bind:class="{ selected: dataType === opt.value }">{{ opt.name }}</button>
                </button>
            </div>

            <template v-if="!dataType">
                <img :src="img.url" alt="" v-for="img in displayedData.images" style="width: 100%; margin-top: 20px;">
            </template>

            <template v-else-if="dataType === 'alerts' && displayedData">
                <ul>
                    <li v-for="alert in displayedData.data">
                        <h5>{{ alert.title }}</h5>
                        <p v-text="alert.description"></p>
                    </li>
                </ul>
            </template>

            <template v-else-if="dataType === 'campgrounds' && displayedData">
                <ul v-if="displayedData.data.length">
                    <li v-for="campground in displayedData.data">
                        <h5><a :href="campground.directionsUrl" target="_blank">{{ campground.name }}</a></h5>
                        <p v-text="campground.description"></p>
                    </li>
                </ul>

                <p v-else>No campgrounds</p>
            </template>
        </div>

        <p v-else>Select a park</p>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js" integrity="sha512-90vH1Z83AJY9DmlWa8WkjkV79yfS2n2Oxhsi2dZbIv0nC4E6m5AbH8Nh156kkM7JePmqD6tcZsfad1ueoaovww==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <script src="https://unpkg.com/geo-albers-usa-territories@0.1.0/dist/geo-albers-usa-territories.js"></script>
    <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script src="js/activitySelect.js"></script>
    <script src="js/eventHandler.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/barChart.js"></script>
    <script src="js/main.js"></script>
    <script src="js/radarChart.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/jquery.multiselect.js"></script>
    <script src="js/q1Vis.js"></script>
    <script src="js/q1.js"></script>
    <script src="js/d3-tip.js"></script>
    <script src="js/hexMap.js"></script>
    <script src="js/q5Vis.js"></script>
    <script src="js/results.js"></script>
</body>
</html>

